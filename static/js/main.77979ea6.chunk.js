(this["webpackJsonpreact-life"]=this["webpackJsonpreact-life"]||[]).push([[0],{11:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(3),o=n.n(i),l=n(1),c=function(e){var t=e.cell,n=e.shadow,a=e.setCells,i=e.handleMouseMove,o="white";return t&&n?o="yellow":t?o="lightgreen":n&&(o="lightblue"),r.a.createElement("div",{onMouseDown:function(e){switch(e.nativeEvent.which){case 1:a(!0);break;case 3:a(!1)}},onMouseEnter:function(){return i()},style:{background:o,border:"1px solid #000",padding:0,width:20,height:20,lineHeight:20,marginTop:-1,marginRight:-1}})},s=function(e){for(var t=e.board,n=e.pattern,i=e.setCells,o=Object(a.useState)([]),s=Object(l.a)(o,2),u=s[0],h=s[1],d=[],f=function(e){for(var a=[],o=function(o){a.push(r.a.createElement(c,{key:o,cell:t.getCell(o,e),shadow:u.some((function(t){var n=Object(l.a)(t,2),a=n[0],r=n[1];return o===a&&e===r})),setCells:function(t){if(t){var a=n.pattern.map((function(t){var n=Object(l.a)(t,2),a=n[0],r=n[1];return[o+a,e+r]}));i(a,!0)}else i([[o,e]],!1)},handleMouseMove:function(){return function(e,t){h(n.pattern.map((function(n){var a=Object(l.a)(n,2),r=a[0],i=a[1];return[e+r,t+i]})))}(o,e)}}))},s=0;s<t.width;s++)o(s);d.push(r.a.createElement("div",{key:e,className:"board-row",style:{display:"flex",flexDirection:"row"}},a))},v=0;v<t.height;v++)f(v);return r.a.createElement("div",{className:"board",style:{display:"flex",flexDirection:"column"},onContextMenu:function(e){return e.preventDefault()}},d)},u=n(4),h=n(5),d=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;Object(u.a)(this,e),this.board=void 0,this.generation=void 0,this.width=void 0,this.height=void 0,this.width=n,this.height=a,this.board=Array.from(new Array(this.height),(function(){return new Array(t.width).fill(!1)})),this.generation=0}return Object(h.a)(e,[{key:"clone",value:function(){for(var t=new e(this.width,this.height),n=0;n<this.height;n++)for(var a=0;a<this.width;a++)t.setCell(a,n,this.getCell(a,n));return t.generation=this.generation,t}},{key:"arround",value:function(e,t){for(var n=0,a=-1;a<=1;a++)for(var r=-1;r<=1;r++)if(0!==r||0!==a){var i=e+r,o=t+a;i<0||i>=this.width||o<0||o>=this.height||(n+=Number(this.board[t+a][e+r]))}return n}},{key:"getCell",value:function(e,t){return this.board[t][e]}},{key:"setCell",value:function(e,t,n){this.board[t][e]=n}},{key:"step",value:function(){for(var e=this,t=Array.from(new Array(this.height),(function(){return new Array(e.width).fill(!1)})),n=0;n<this.height;n++)for(var a=0;a<this.width;a++)switch(this.arround(a,n)){case 2:t[n][a]=this.board[n][a];break;case 3:t[n][a]=!0;break;default:t[n][a]=!1}this.board=t,this.generation++}},{key:"clear",value:function(){var e=this;this.board=Array.from(new Array(this.height),(function(){return new Array(e.width).fill(!1)})),this.generation=0}}]),e}(),f=[{name:"cell",pattern:[[0,0]]},{name:"glider",pattern:[[0,-1],[1,0],[-1,1],[0,1],[1,1]]},{name:"spaceship",pattern:[[-2,-1],[1,-1],[2,0],[-2,1],[2,1],[-1,2],[0,2],[1,2],[2,2]]},{name:"glider gun",pattern:[[7,-4],[5,-3],[7,-3],[-5,-2],[-4,-2],[3,-2],[4,-2],[17,-2],[18,-2],[-6,-1],[-2,-1],[3,-1],[4,-1],[17,-1],[18,-1],[-17,0],[-16,0],[-7,0],[-1,0],[3,0],[4,0],[-17,1],[-16,1],[-7,1],[-3,1],[-1,1],[0,1],[5,1],[7,1],[-7,2],[-1,2],[7,2],[-6,3],[-2,3],[-5,4],[-4,4]]}],v=function(){var e=Object(a.useState)(new d(20,20)),t=Object(l.a)(e,2),n=t[0],i=t[1],o=Object(a.useState)(void 0),c=Object(l.a)(o,2),u=c[0],h=c[1],v=Object(a.useState)(50),m=Object(l.a)(v,2),b=m[0],g=m[1],p=Object(a.useState)(f[0]),y=Object(l.a)(p,2),w=y[0],E=y[1],k=function(){i((function(e){var t=e.clone();return t.step(),t}))},C=function(){void 0!==u&&(clearInterval(u),h(void 0))};return r.a.createElement("div",null,r.a.createElement("div",{className:"container_app",style:{display:"flex",justifyContent:"center"}},r.a.createElement("div",{className:"container_board_buttons",style:{display:"flex",flexDirection:"column",margin:5}},r.a.createElement(s,{board:n,pattern:w,setCells:function(e,t){i((function(n){var a=n.clone();return e.forEach((function(e){var n=Object(l.a)(e,2),r=n[0],i=n[1];return a.setCell(r,i,t)})),a}))}}),r.a.createElement("div",{className:"conainer_buttons",style:{display:"flex",justifyContent:"center",margin:5}},r.a.createElement("button",{onClick:k},"step"),r.a.createElement("button",{disabled:void 0!==u,onClick:function(){void 0===u&&h(setInterval(k,b))}},"run"),r.a.createElement("button",{disabled:void 0===u,onClick:C},"stop"),r.a.createElement("button",{onClick:function(){void 0!==u&&C(),i((function(e){var t=e.clone();return t.clear(),t}))}},"clear"),r.a.createElement("input",{type:"range",min:"10",max:"500",step:"10",value:b,disabled:void 0!==u,onChange:function(e){return g(Number(e.target.value))}}),r.a.createElement("span",null,b,"(ms)"),r.a.createElement("span",null,n.generation,"\u4e16\u4ee3"))),r.a.createElement("form",{className:"pattern_list",style:{margin:5}},r.a.createElement("select",{size:f.length,value:w.name,onChange:function(e){var t=f.find((function(t){return t.name===e.target.value}));void 0!==t?E(t):console.error("cannot find pattern ".concat(e.target.value))}},f.map((function(e,t){return r.a.createElement("option",{key:t,value:e.name},e.name)}))))))};o.a.render(r.a.createElement(v,null),document.getElementById("root"))},6:function(e,t,n){e.exports=n(11)}},[[6,1,2]]]);
//# sourceMappingURL=main.77979ea6.chunk.js.map