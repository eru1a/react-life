(this["webpackJsonpreact-life"]=this["webpackJsonpreact-life"]||[]).push([[0],{14:function(e,t,n){e.exports=n(21)},21:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(6),o=n.n(i),c=n(1),l=n(7),u=function(e){var t=e.cell,n=e.boardWidth,a=e.boardHeight,i=e.shadow,o=e.setCells,c=e.handleMouseMove,l="white";return t&&i?l="yellow":t?l="lightgreen":i&&(l="lightblue"),r.a.createElement("div",{onMouseDown:function(e){switch(e.nativeEvent.which){case 1:o(!0);break;case 3:o(!1)}},onMouseEnter:function(){return c()},style:{background:l,border:"1px solid #666",width:"".concat(1/n*100,"%"),height:"".concat(1/a*100,"%"),boxSizing:"border-box"}})},s=function(e){for(var t=e.board,n=e.pattern,i=e.setCells,o=Object(a.useState)([]),l=Object(c.a)(o,2),s=l[0],h=l[1],d=[],f=function(e){for(var a=function(a){d.push(r.a.createElement(u,{key:"".concat(a,"-").concat(e),boardWidth:t.width,boardHeight:t.height,cell:t.getCell(a,e),shadow:s.some((function(t){var n=Object(c.a)(t,2),r=n[0],i=n[1];return a===r&&e===i})),setCells:function(r){if(r){var o=n.pattern.map((function(t){var n=Object(c.a)(t,2),r=n[0],i=n[1];return[a+r,e+i]})).filter((function(e){var n=Object(c.a)(e,2),a=n[0],r=n[1];return a>=0&&a<t.width&&r>=0&&r<t.height}));i(o,!0)}else i([[a,e]],!1)},handleMouseMove:function(){return function(e,t){h(n.pattern.map((function(n){var a=Object(c.a)(n,2),r=a[0],i=a[1];return[e+r,t+i]})))}(a,e)}}))},o=0;o<t.width;o++)a(o)},v=0;v<t.height;v++)f(v);return r.a.createElement("div",{className:"board",style:{display:"flex",flexWrap:"wrap",width:"100%",height:"100%"},onContextMenu:function(e){return e.preventDefault()}},d)},h=n(8),d=n(9),f=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;Object(h.a)(this,e),this.board=void 0,this.generation=void 0,this.width=void 0,this.height=void 0,this.width=n,this.height=a,this.board=Array.from(new Array(this.height),(function(){return new Array(t.width).fill(!1)})),this.generation=0}return Object(d.a)(e,[{key:"clone",value:function(){for(var t=new e(this.width,this.height),n=0;n<this.height;n++)for(var a=0;a<this.width;a++)t.setCell(a,n,this.getCell(a,n));return t.generation=this.generation,t}},{key:"arround",value:function(e,t){for(var n=0,a=-1;a<=1;a++)for(var r=-1;r<=1;r++)if(0!==r||0!==a){var i=e+r,o=t+a;i<0||i>=this.width||o<0||o>=this.height||(n+=Number(this.board[t+a][e+r]))}return n}},{key:"getCell",value:function(e,t){return this.board[t][e]}},{key:"setCell",value:function(e,t,n){this.board[t][e]=n}},{key:"step",value:function(){for(var e=this,t=Array.from(new Array(this.height),(function(){return new Array(e.width).fill(!1)})),n=0;n<this.height;n++)for(var a=0;a<this.width;a++)switch(this.arround(a,n)){case 2:t[n][a]=this.board[n][a];break;case 3:t[n][a]=!0;break;default:t[n][a]=!1}this.board=t,this.generation++}},{key:"clear",value:function(){var e=this;this.board=Array.from(new Array(this.height),(function(){return new Array(e.width).fill(!1)})),this.generation=0}}]),e}(),v=[{name:"cell",pattern:[[0,0]]},{name:"glider",pattern:[[0,-1],[1,0],[-1,1],[0,1],[1,1]]},{name:"spaceship",pattern:[[-2,-1],[1,-1],[2,0],[-2,1],[2,1],[-1,2],[0,2],[1,2],[2,2]]},{name:"glider gun",pattern:[[7,-4],[5,-3],[7,-3],[-5,-2],[-4,-2],[3,-2],[4,-2],[17,-2],[18,-2],[-6,-1],[-2,-1],[3,-1],[4,-1],[17,-1],[18,-1],[-17,0],[-16,0],[-7,0],[-1,0],[3,0],[4,0],[-17,1],[-16,1],[-7,1],[-3,1],[-1,1],[0,1],[5,1],[7,1],[-7,2],[-1,2],[7,2],[-6,3],[-2,3],[-5,4],[-4,4]]}];function m(){var e=Object(l.a)(["\n  @media (min-aspect-ratio: 99/100) {\n    width: 90vh;\n    height: 90vh;\n  }\n  @media (max-aspect-ratio: 100/99) {\n    width: 90vw;\n    height: 90vw;\n  }\n\n  margin: auto;\n"]);return m=function(){return e},e}var b=n(10).a.div(m()),g=function(){var e=Object(a.useState)(new f(20,20)),t=Object(c.a)(e,2),n=t[0],i=t[1],o=Object(a.useState)(void 0),l=Object(c.a)(o,2),u=l[0],h=l[1],d=Object(a.useState)(50),m=Object(c.a)(d,2),g=m[0],p=m[1],w=Object(a.useState)(v[0]),y=Object(c.a)(w,2),E=y[0],j=y[1],C=function(){i((function(e){var t=e.clone();return t.step(),t}))},k=function(){void 0!==u&&(clearInterval(u),h(void 0))};return r.a.createElement("div",null,r.a.createElement("div",{className:"container_app",style:{display:"flex",justifyContent:"center"}},r.a.createElement("div",{className:"container_board_buttons",style:{display:"flex",flexFlow:"column",margin:5}},r.a.createElement(b,null,r.a.createElement(s,{board:n,pattern:E,setCells:function(e,t){i((function(n){var a=n.clone();return e.forEach((function(e){var n=Object(c.a)(e,2),r=n[0],i=n[1];return a.setCell(r,i,t)})),a}))}})),r.a.createElement("div",{className:"conainer_buttons",style:{display:"flex",flexWrap:"wrap",justifyContent:"center",margin:5}},r.a.createElement("button",{onClick:C},"step"),r.a.createElement("button",{disabled:void 0!==u,onClick:function(){void 0===u&&h(setInterval(C,g))}},"run"),r.a.createElement("button",{disabled:void 0===u,onClick:k},"stop"),r.a.createElement("button",{onClick:function(){void 0!==u&&k(),i((function(e){var t=e.clone();return t.clear(),t}))}},"clear"),r.a.createElement("input",{type:"range",min:"10",max:"500",step:"10",value:g,disabled:void 0!==u,onChange:function(e){return p(Number(e.target.value))}}),r.a.createElement("span",null,g,"(ms)"),r.a.createElement("span",null,n.generation,"\u4e16\u4ee3"))),r.a.createElement("form",{className:"pattern_list",style:{margin:5}},r.a.createElement("select",{size:v.length,value:E.name,onChange:function(e){var t=v.find((function(t){return t.name===e.target.value}));void 0!==t?j(t):console.error("cannot find pattern ".concat(e.target.value))}},v.map((function(e,t){return r.a.createElement("option",{key:t,value:e.name},e.name)}))))))};o.a.render(r.a.createElement(g,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.9675e682.chunk.js.map